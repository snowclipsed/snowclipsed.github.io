"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[494],{3494:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});var a=r(5155),o=r(2115),s=r(8308);let l={sigma:10.3,rho:23.7,beta:1.7,speed:1,rotateX:24,rotateY:-18,rotateZ:-44,scale:2},n=()=>{let{theme:e}=(0,s.D)(),t=(0,o.useRef)(null),r=(0,o.useRef)([]),[n,c]=(0,o.useState)(!1),[h,i]=(0,o.useState)({x:0,y:0}),[d,u]=(0,o.useState)(!1),[b,x]=(0,o.useState)(l),[f,p]=(0,o.useState)([]),M=(0,o.useCallback)(()=>{let e=Math.sqrt(b.beta*(b.rho-1)),t={x:e,y:e,z:b.rho-1},r={x:-e,y:-e,z:b.rho-1};return{x:(t.x+r.x)/2,y:(t.y+r.y)/2,z:(t.z+r.z)/2}},[b.beta,b.rho]),k=(0,o.useCallback)(e=>{let t=M(),r=e.x-t.x,a=e.y-t.y,o=e.z-t.z,s=b.rotateX*Math.PI/180,l=b.rotateY*Math.PI/180,n=b.rotateZ*Math.PI/180,c=a*Math.cos(s)-o*Math.sin(s),h=a*Math.sin(s)+o*Math.cos(s),i=r*Math.cos(l)+h*Math.sin(l),d=-r*Math.sin(l)+h*Math.cos(l),u=i*Math.cos(n)-c*Math.sin(n),x=i*Math.sin(n)+c*Math.cos(n);return{x:u+t.x,y:x+t.y,z:d+t.z}},[b.rotateX,b.rotateY,b.rotateZ,M]),m=(0,o.useCallback)(e=>{let t=k(e),r=M();return{x:Math.floor((t.x-r.x)*b.scale+50),y:Math.floor((t.y-r.y)*b.scale+25)}},[b.scale,k,M]),y=(0,o.useCallback)(t=>{if(!d)return"dark"===e?"#ffffff":"#000000";let r={x:Math.sqrt(b.beta*(b.rho-1)),y:Math.sqrt(b.beta*(b.rho-1)),z:b.rho-1},a={x:-Math.sqrt(b.beta*(b.rho-1)),y:-Math.sqrt(b.beta*(b.rho-1)),z:b.rho-1},o=Math.min(Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)+Math.pow(t.z-r.z,2)),Math.sqrt(Math.pow(t.x-a.x,2)+Math.pow(t.y-a.y,2)+Math.pow(t.z-a.z,2)))/Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2)+Math.pow(r.z-a.z,2));return o<.15?"#ef4444":o<.3?"#f97316":o<.45?"#eab308":o<.6?"#22c55e":o<.75?"#3b82f6":"#8b5cf6"},[d,b.beta,b.rho,e]),w=(0,o.useCallback)(t=>{let r=Array(45).fill(null).map(()=>Array(100).fill({char:" ",color:"dark"===e?"#ffffff":"#000000"})),a=M();return[...t].sort((e,t)=>{let r=k(e);return k(t).z-a.z-(r.z-a.z)}).forEach(e=>{let t=m(e),a=Math.floor(t.x),o=Math.floor(t.y);a>=0&&a<100&&o>=0&&o<45&&(r[o][a]={char:"â–ˆ",color:y(e)})}),r},[m,y,k,e,M]);(0,o.useEffect)(()=>{let e=[],a=.1,o=0,s=0;for(let t=0;t<1e3;t++){let t=b.sigma*(o-a)*.01,r=(a*(b.rho-s)-o)*.01,l=(a*o-b.beta*s)*.01;a+=t,o+=r,s+=l,e.push({x:a,y:o,z:s})}r.current=e;let l=0,n=()=>{let e=r.current[r.current.length-1],a=b.sigma*(e.y-e.x)*.01*b.speed,o=(e.x*(b.rho-e.z)-e.y)*.01*b.speed,s=(e.x*e.y-b.beta*e.z)*.01*b.speed,c={x:e.x+a,y:e.y+o,z:e.z+s};r.current=[...r.current.slice(1),c],l%2==0&&p(w(r.current)),l++,t.current=requestAnimationFrame(n)};return t.current=requestAnimationFrame(n),()=>{null!==t.current&&cancelAnimationFrame(t.current)}},[b.sigma,b.rho,b.beta,b.speed,w]);let z=(0,o.useCallback)(e=>{(e.target===e.currentTarget||e.target.closest(".visualization-area"))&&(c(!0),i({x:e.clientX,y:e.clientY}))},[]),v=(0,o.useCallback)(e=>{if(!n)return;let t=e.clientX-h.x,r=e.clientY-h.y;x(e=>({...e,rotateY:e.rotateY+.5*t,rotateX:e.rotateX+.5*r})),i({x:e.clientX,y:e.clientY})},[n,h]);return(0,a.jsxs)("div",{className:"flex border transition-colors duration-100 dark:border-white border-black  dark:bg-black bg-white  dark:text-white text-black",children:[(0,a.jsx)("div",{className:"visualization-area flex-1 cursor-move border-r transition-colors duration-100 dark:border-white border-black overflow-hidden",onMouseDown:z,onMouseMove:v,onMouseUp:()=>c(!1),onMouseLeave:()=>c(!1),children:(0,a.jsx)("pre",{className:"font-mono text-[0.6rem] leading-none p-2 h-full select-none",children:f.map((e,t)=>(0,a.jsx)("div",{className:"whitespace-pre",children:e.map((e,r)=>(0,a.jsx)("span",{style:{color:e.color},children:e.char},"".concat(t,"-").concat(r)))},t))})}),(0,a.jsxs)("div",{className:"w-44 flex flex-col p-2 text-[0.6rem] shrink-0",children:[(0,a.jsxs)("div",{className:"border transition-colors duration-100 dark:border-white border-black p-2 mb-1 text-center",children:[(0,a.jsx)("p",{children:"Click and drag to rotate"}),(0,a.jsx)("button",{onClick:()=>u(e=>!e),className:"mt-2 px-2 py-1 border transition-colors duration-100 dark:border-white border-black  hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black  w-full",children:d?"Switch to Monochrome":"Switch to Heatmap"}),(0,a.jsx)("button",{onClick:()=>x(l),className:"mt-2 px-2 py-1 border transition-colors duration-100 dark:border-white border-black  hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black  w-full",children:"Reset to Default"})]}),Object.entries(b).map(e=>{let[t,r]=e;return(0,a.jsxs)("div",{className:"border transition-colors duration-100 dark:border-white border-black p-2 mt-1",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,a.jsx)("span",{children:t}),(0,a.jsx)("span",{children:r.toFixed(1)})]}),(0,a.jsx)("input",{type:"range",min:t.startsWith("rotate")?-180:"speed"===t?.1:1,max:t.startsWith("rotate")?180:"speed"===t?3:"rho"===t?50:20,step:"speed"===t?.1:t.startsWith("rotate")?1:.1,value:r,onChange:e=>x(r=>({...r,[t]:parseFloat(e.target.value)})),className:"w-full accent-current"})]},t)})]})]})}}}]);